// Recidiviz - a data platform for criminal justice reform
// Copyright (C) 2022 Recidiviz, Inc.
//
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <https://www.gnu.org/licenses/>.
// =============================================================================

import { Datapoint } from "../../shared/types";
import {
  fillTimeGapsBetweenDatapoints,
  filterByTimeRange,
  filterNullDatapoints,
  incrementMonth,
  incrementYear,
  transformData,
  transformToRelativePerchanges,
} from "./utils";

const testDatapoints: Datapoint[] = [
  {
    start_date: "Wed, 01 Jan 2020 00:00:00 GMT",
    end_date: "Sat, 01 Feb 2020 00:00:00 GMT",
    Pretrial: 50515,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 45427,
    "Transfer or Hold": 31375,
    Unknown: 29749,
  },
  {
    start_date: "Sat, 01 Feb 2020 00:00:00 GMT",
    end_date: "Sun, 01 Mar 2020 00:00:00 GMT",
    Pretrial: 54758,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 65594,
    "Transfer or Hold": 89614,
    Unknown: 73426,
  },
  {
    start_date: "Sun, 01 Mar 2020 00:00:00 GMT",
    end_date: "Wed, 01 Apr 2020 00:00:00 GMT",
    Pretrial: 52304,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 94209,
    "Transfer or Hold": 82736,
    Unknown: 62748,
  },
  {
    start_date: "Wed, 01 Apr 2020 00:00:00 GMT",
    end_date: "Fri, 01 May 2020 00:00:00 GMT",
    Pretrial: 23335,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 90737,
    "Transfer or Hold": 57573,
    Unknown: 93184,
  },
  {
    start_date: "Fri, 01 May 2020 00:00:00 GMT",
    end_date: "Mon, 01 Jun 2020 00:00:00 GMT",
    Pretrial: 39489,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 27098,
    "Transfer or Hold": 41196,
    Unknown: 28077,
  },
  {
    start_date: "Mon, 01 Jun 2020 00:00:00 GMT",
    end_date: "Wed, 01 Jul 2020 00:00:00 GMT",
    Pretrial: 66362,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 44360,
    "Transfer or Hold": 61195,
    Unknown: 31909,
  },
  {
    start_date: "Wed, 01 Jul 2020 00:00:00 GMT",
    end_date: "Sat, 01 Aug 2020 00:00:00 GMT",
    Pretrial: 69380,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 53465,
    "Transfer or Hold": 94375,
    Unknown: 13442,
  },
  {
    start_date: "Sat, 01 Aug 2020 00:00:00 GMT",
    end_date: "Tue, 01 Sep 2020 00:00:00 GMT",
    Pretrial: 30380,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 82698,
    "Transfer or Hold": 41340,
    Unknown: 40324,
  },
  {
    start_date: "Tue, 01 Sep 2020 00:00:00 GMT",
    end_date: "Thu, 01 Oct 2020 00:00:00 GMT",
    Pretrial: 30338,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 74647,
    "Transfer or Hold": 85087,
    Unknown: 28198,
  },
  {
    start_date: "Thu, 01 Oct 2020 00:00:00 GMT",
    end_date: "Sun, 01 Nov 2020 00:00:00 GMT",
    Pretrial: 35571,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 23313,
    "Transfer or Hold": 41785,
    Unknown: 63556,
  },
  {
    start_date: "Sun, 01 Nov 2020 00:00:00 GMT",
    end_date: "Tue, 01 Dec 2020 00:00:00 GMT",
    Pretrial: 65779,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 53664,
    "Transfer or Hold": 65962,
    Unknown: 59783,
  },
  {
    start_date: "Tue, 01 Dec 2020 00:00:00 GMT",
    end_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    Pretrial: 46192,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 49529,
    "Transfer or Hold": 78956,
    Unknown: 12664,
  },
  {
    start_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    end_date: "Mon, 01 Feb 2021 00:00:00 GMT",
    Pretrial: 34311,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 24082,
    "Transfer or Hold": 70165,
    Unknown: 13003,
  },
  {
    start_date: "Mon, 01 Feb 2021 00:00:00 GMT",
    end_date: "Mon, 01 Mar 2021 00:00:00 GMT",
    Pretrial: 94307,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 67799,
    "Transfer or Hold": 80348,
    Unknown: 24894,
  },
  {
    start_date: "Mon, 01 Mar 2021 00:00:00 GMT",
    end_date: "Thu, 01 Apr 2021 00:00:00 GMT",
    Pretrial: 55116,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 65802,
    "Transfer or Hold": 46493,
    Unknown: 47052,
  },
  {
    start_date: "Thu, 01 Apr 2021 00:00:00 GMT",
    end_date: "Sat, 01 May 2021 00:00:00 GMT",
    Pretrial: 60342,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 27224,
    "Transfer or Hold": 14822,
    Unknown: 35285,
  },
  {
    start_date: "Sat, 01 May 2021 00:00:00 GMT",
    end_date: "Tue, 01 Jun 2021 00:00:00 GMT",
    Pretrial: 76072,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 40997,
    "Transfer or Hold": 84448,
    Unknown: 86808,
  },
  {
    start_date: "Tue, 01 Jun 2021 00:00:00 GMT",
    end_date: "Thu, 01 Jul 2021 00:00:00 GMT",
    Pretrial: 55707,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 21701,
    "Transfer or Hold": 97274,
    Unknown: 70005,
  },
  {
    start_date: "Thu, 01 Jul 2021 00:00:00 GMT",
    end_date: "Sun, 01 Aug 2021 00:00:00 GMT",
    "Transfer or Hold": 92055,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 64106,
    Pretrial: 19694,
    Unknown: 51952,
  },
  {
    start_date: "Sun, 01 Aug 2021 00:00:00 GMT",
    end_date: "Wed, 01 Sep 2021 00:00:00 GMT",
    Pretrial: 19163,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 95457,
    "Transfer or Hold": 50399,
    Unknown: 37598,
  },
  {
    start_date: "Wed, 01 Sep 2021 00:00:00 GMT",
    end_date: "Fri, 01 Oct 2021 00:00:00 GMT",
    Pretrial: 56132,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 49555,
    "Transfer or Hold": 67307,
    Unknown: 16254,
  },
  {
    start_date: "Fri, 01 Oct 2021 00:00:00 GMT",
    end_date: "Mon, 01 Nov 2021 00:00:00 GMT",
    Pretrial: 74036,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 53503,
    "Transfer or Hold": 29868,
    Unknown: 94671,
  },
  {
    start_date: "Mon, 01 Nov 2021 00:00:00 GMT",
    end_date: "Wed, 01 Dec 2021 00:00:00 GMT",
    Sentenced: 34289,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Pretrial: 30696,
    "Transfer or Hold": 56361,
    Unknown: 18829,
  },
  {
    start_date: "Wed, 01 Dec 2021 00:00:00 GMT",
    end_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    Pretrial: 21968,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 47320,
    "Transfer or Hold": 43536,
    Unknown: 71164,
  },
  {
    start_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    end_date: "Tue, 01 Feb 2022 00:00:00 GMT",
    Pretrial: 38210,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 70537,
    "Transfer or Hold": 87658,
    Unknown: 84018,
  },
  {
    start_date: "Tue, 01 Feb 2022 00:00:00 GMT",
    end_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    Pretrial: 37196,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 34013,
    "Transfer or Hold": 35342,
    Unknown: 16376,
  },
  {
    start_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    end_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    Pretrial: 13935,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 28989,
    "Transfer or Hold": 56841,
    Unknown: 52659,
  },
  {
    start_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    end_date: "Sun, 01 May 2022 00:00:00 GMT",
    Pretrial: 54440,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Unknown: 55161,
    "Transfer or Hold": 17782,
    Sentenced: 90906,
  },
  {
    start_date: "Sun, 01 May 2022 00:00:00 GMT",
    end_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    Pretrial: 49829,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 85046,
    "Transfer or Hold": 60630,
    Unknown: 10732,
  },
  {
    start_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    end_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    Pretrial: 15321,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 68658,
    "Transfer or Hold": 73603,
    Unknown: 72871,
  },
  {
    start_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    end_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    Pretrial: 61998,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 29566,
    "Transfer or Hold": 98614,
    Unknown: 63892,
  },
  {
    start_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    end_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    Pretrial: 49052,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 19779,
    "Transfer or Hold": 38057,
    Unknown: 49554,
  },
  {
    start_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    end_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    Sentenced: 52422,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Pretrial: 34244,
    "Transfer or Hold": 62878,
    Unknown: 48777,
  },
  {
    start_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    end_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    Pretrial: 67196,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 54738,
    "Transfer or Hold": 95846,
    Unknown: 94767,
  },
  {
    start_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    end_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    Pretrial: 76254,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 63070,
    "Transfer or Hold": 25465,
    Unknown: 81989,
  },
  {
    start_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    Unknown: 29537,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    "Transfer or Hold": 52722,
    Sentenced: 84901,
    Pretrial: 34694,
  },
];

const testDatapoints2: Datapoint[] = [
  {
    start_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    end_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 97164,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 36671,
    Black: 26028,
    "External / Unknown": 47948,
    Hispanic: 57558,
    "Native Hawaiian / Pacific Islander": 90632,
    Other: 16338,
    White: 22298,
  },
  {
    start_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    end_date: "Sun, 01 May 2022 00:00:00 GMT",
    Hispanic: 66829,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    "External / Unknown": 97373,
    Black: 20261,
    Asian: 63835,
    "American Indian / Alaskan Native": 31596,
    "Native Hawaiian / Pacific Islander": 82033,
    Other: 29044,
    White: 96511,
  },
  {
    start_date: "Sun, 01 May 2022 00:00:00 GMT",
    end_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 79637,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 14139,
    Black: 85121,
    "External / Unknown": 38446,
    Hispanic: 31772,
    "Native Hawaiian / Pacific Islander": 88002,
    Other: 33259,
    White: 70561,
  },
  {
    start_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    end_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 45039,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 65632,
    Black: 39540,
    "External / Unknown": 16119,
    Hispanic: 14102,
    "Native Hawaiian / Pacific Islander": 52909,
    Other: 60103,
    White: 73688,
  },
  {
    start_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    end_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 80150,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 74203,
    Black: 23688,
    "External / Unknown": 44627,
    Hispanic: 65335,
    "Native Hawaiian / Pacific Islander": 56843,
    Other: 58110,
    White: 62313,
  },
  {
    start_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    end_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 21221,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 36873,
    Black: 30958,
    "External / Unknown": 40857,
    Hispanic: 85505,
    "Native Hawaiian / Pacific Islander": 66954,
    Other: 93569,
    White: 52647,
  },
  {
    start_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    end_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    Other: 69493,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    White: 37434,
    "Native Hawaiian / Pacific Islander": 87941,
    "American Indian / Alaskan Native": 55887,
    Asian: 69104,
    Black: 73150,
    "External / Unknown": 64346,
    Hispanic: 33261,
  },
  {
    start_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    end_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 69650,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 24615,
    Black: 55423,
    "External / Unknown": 98968,
    Hispanic: 68576,
    "Native Hawaiian / Pacific Islander": 94690,
    Other: 64054,
    White: 81617,
  },
  {
    start_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    end_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 17038,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 44387,
    Black: 51777,
    "External / Unknown": 54533,
    Hispanic: 16689,
    "Native Hawaiian / Pacific Islander": 69182,
    Other: 99842,
    White: 29578,
  },
  {
    start_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    "Native Hawaiian / Pacific Islander": 89112,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Other: 37341,
    White: 59971,
    "American Indian / Alaskan Native": 18236,
    Asian: 60388,
    Black: 35380,
    "External / Unknown": 36941,
    Hispanic: 90445,
  },
];

const testDatapoints2Percentages: Datapoint[] = [
  {
    start_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    end_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 0.24621107498790026,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 0.09292337008440668,
    Black: 0.06595428203640308,
    "External / Unknown": 0.12149899781318022,
    Hispanic: 0.145850490450718,
    "Native Hawaiian / Pacific Islander": 0.22965915512230226,
    Other: 0.04140007145807413,
    White: 0.05650255804701536,
  },
  {
    start_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    end_date: "Sun, 01 May 2022 00:00:00 GMT",
    Hispanic: 0.13709018999675884,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    "External / Unknown": 0.1997468624482545,
    Black: 0.04156256025863519,
    Asian: 0.1309484247623502,
    "American Indian / Alaskan Native": 0.06481470085049294,
    "Native Hawaiian / Pacific Islander": 0.16827903389253346,
    Other: 0.059579635760910146,
    White: 0.1979785920300647,
  },
  {
    start_date: "Sun, 01 May 2022 00:00:00 GMT",
    end_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 0.18060856766386127,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 0.03206580531912722,
    Black: 0.19304571854936192,
    "External / Unknown": 0.08719159426403318,
    Hispanic: 0.07205564513751397,
    "Native Hawaiian / Pacific Islander": 0.19957953176984466,
    Other: 0.07542800898994641,
    White: 0.16002512830631133,
  },
  {
    start_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    end_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 0.1226779468964841,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 0.1787694889031738,
    Black: 0.10769968294782258,
    "External / Unknown": 0.04390518941416166,
    Hispanic: 0.0384112526284824,
    "Native Hawaiian / Pacific Islander": 0.1441143784796749,
    Other: 0.16370951047579618,
    White: 0.2007125502544044,
  },
  {
    start_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    end_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 0.17226593647975688,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 0.1594840834012152,
    Black: 0.0509124828862443,
    "External / Unknown": 0.09591655579890343,
    Hispanic: 0.14042414173306195,
    "Native Hawaiian / Pacific Islander": 0.12217233471389669,
    Other: 0.12489549056567276,
    White: 0.1339289744212488,
  },
  {
    start_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    end_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 0.04951421424971534,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 0.08603447632202789,
    Black: 0.0722332144923749,
    "External / Unknown": 0.09533020364735968,
    Hispanic: 0.1995058144961081,
    "Native Hawaiian / Pacific Islander": 0.15622141750508653,
    Other: 0.21832126257629778,
    White: 0.12283939671102981,
  },
  {
    start_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    end_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    Other: 0.14164438175681185,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    White: 0.07629999836939684,
    "Native Hawaiian / Pacific Islander": 0.17924609062892363,
    "American Indian / Alaskan Native": 0.11391189851125931,
    Asian: 0.14085150097020888,
    Black: 0.14909827645245977,
    "External / Unknown": 0.13115348867546106,
    Hispanic: 0.06779436463547867,
  },
  {
    start_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    end_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 0.12491189810489013,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 0.04414510225200101,
    Black: 0.09939687191195011,
    "External / Unknown": 0.1774914677910232,
    Hispanic: 0.12298576201638112,
    "Native Hawaiian / Pacific Islander": 0.16981920504740913,
    Other: 0.11487590410926966,
    White: 0.14637378876707563,
  },
  {
    start_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    end_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    "American Indian / Alaskan Native": 0.044482619978800396,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Asian: 0.11588508351913447,
    Black: 0.13517881292653763,
    "External / Unknown": 0.14237414692475184,
    Hispanic: 0.04357145467931681,
    "Native Hawaiian / Pacific Islander": 0.18061959240364883,
    Other: 0.2606663777393702,
    White: 0.07722191182843985,
  },
  {
    start_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    "Native Hawaiian / Pacific Islander": 0.20829612869144068,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Other: 0.08728325861238763,
    White: 0.14018007825830853,
    "American Indian / Alaskan Native": 0.04262600101913448,
    Asian: 0.14115480091815602,
    Black: 0.08269949090025104,
    "External / Unknown": 0.0863482728475459,
    Hispanic: 0.21141196875277574,
  },
];

const testDatapoints3: Datapoint[] = [
  {
    Total: 28293,
    start_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    end_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 56673,
    start_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    end_date: "Sun, 01 May 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 59646,
    start_date: "Sun, 01 May 2022 00:00:00 GMT",
    end_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 95570,
    start_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    end_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 23877,
    start_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    end_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 42551,
    start_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    end_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 77484,
    start_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    end_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: null,
    start_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    end_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 12312,
    start_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    end_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 0,
    start_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
];

const testDatapoints3WithoutNullDatapoints: Datapoint[] = [
  {
    Total: 28293,
    start_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    end_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 56673,
    start_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    end_date: "Sun, 01 May 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 59646,
    start_date: "Sun, 01 May 2022 00:00:00 GMT",
    end_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 95570,
    start_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    end_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 23877,
    start_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    end_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 42551,
    start_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    end_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 77484,
    start_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    end_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 12312,
    start_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    end_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
  {
    Total: 0,
    start_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    frequency: "MONTHLY",
    dataVizMissingData: 0,
  },
];

const testDatapoints4: Datapoint[] = [
  {
    Total: 52342,
    start_date: "Thu, 01 Jan 2015 00:00:00 GMT",
    end_date: "Fri, 01 Jan 2016 00:00:00 GMT",
    frequency: "ANNUAL",
    dataVizMissingData: 0,
  },
  {
    Total: 41241,
    start_date: "Tue, 01 Jan 2019 00:00:00 GMT",
    end_date: "Wed, 01 Jan 2020 00:00:00 GMT",
    frequency: "ANNUAL",
    dataVizMissingData: 0,
  },
  {
    Total: 74435,
    start_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    frequency: "ANNUAL",
    dataVizMissingData: 0,
  },
];

const testDatapoints4WithGapDatapoints: Datapoint[] = [
  {
    Total: 52342,
    start_date: "Thu, 01 Jan 2015 00:00:00 GMT",
    end_date: "Fri, 01 Jan 2016 00:00:00 GMT",
    frequency: "ANNUAL",
    dataVizMissingData: 0,
  },
  {
    start_date: "Fri, 01 Jan 2016 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2017 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    start_date: "Sun, 01 Jan 2017 00:00:00 GMT",
    end_date: "Mon, 01 Jan 2018 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    start_date: "Mon, 01 Jan 2018 00:00:00 GMT",
    end_date: "Tue, 01 Jan 2019 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    Total: 41241,
    start_date: "Tue, 01 Jan 2019 00:00:00 GMT",
    end_date: "Wed, 01 Jan 2020 00:00:00 GMT",
    frequency: "ANNUAL",
    dataVizMissingData: 0,
  },
  {
    start_date: "Wed, 01 Jan 2020 00:00:00 GMT",
    end_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    start_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    end_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    Total: 74435,
    start_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    frequency: "ANNUAL",
    dataVizMissingData: 0,
  },
];

const testDatapoints4WithGapDatapoints2: Datapoint[] = [
  {
    start_date: "Tue, 01 Jan 2013 00:00:00 GMT",
    end_date: "Wed, 01 Jan 2014 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    start_date: "Wed, 01 Jan 2014 00:00:00 GMT",
    end_date: "Thu, 01 Jan 2015 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    Total: 52342,
    start_date: "Thu, 01 Jan 2015 00:00:00 GMT",
    end_date: "Fri, 01 Jan 2016 00:00:00 GMT",
    frequency: "ANNUAL",
    dataVizMissingData: 0,
  },
  {
    start_date: "Fri, 01 Jan 2016 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2017 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    start_date: "Sun, 01 Jan 2017 00:00:00 GMT",
    end_date: "Mon, 01 Jan 2018 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    start_date: "Mon, 01 Jan 2018 00:00:00 GMT",
    end_date: "Tue, 01 Jan 2019 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    Total: 41241,
    start_date: "Tue, 01 Jan 2019 00:00:00 GMT",
    end_date: "Wed, 01 Jan 2020 00:00:00 GMT",
    frequency: "ANNUAL",
    dataVizMissingData: 0,
  },
  {
    start_date: "Wed, 01 Jan 2020 00:00:00 GMT",
    end_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    start_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    end_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    dataVizMissingData: 24811.666666666668,
    frequency: "ANNUAL",
    Total: 0,
  },
  {
    Total: 74435,
    start_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    frequency: "ANNUAL",
    dataVizMissingData: 0,
  },
];

const testDatapoints5: Datapoint[] = [
  {
    start_date: "Thu, 01 Aug 2019 00:00:00 GMT",
    end_date: "Sun, 01 Sep 2019 00:00:00 GMT",
    Pretrial: 41,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 32,
    "Transfer or Hold": 53,
    Unknown: 12,
  },
  {
    start_date: "Wed, 01 Jan 2020 00:00:00 GMT",
    end_date: "Sat, 01 Feb 2020 00:00:00 GMT",
    Pretrial: 36541,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 79028,
    Unknown: 65749,
    "Transfer or Hold": 48334,
  },
  {
    start_date: "Sat, 01 Feb 2020 00:00:00 GMT",
    end_date: "Sun, 01 Mar 2020 00:00:00 GMT",
    Pretrial: 24112,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 82706,
    "Transfer or Hold": 83057,
    Unknown: 17415,
  },
  {
    start_date: "Sun, 01 Mar 2020 00:00:00 GMT",
    end_date: "Wed, 01 Apr 2020 00:00:00 GMT",
    Pretrial: 23767,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 90978,
    "Transfer or Hold": 82590,
    Unknown: 35303,
  },
  {
    start_date: "Wed, 01 Apr 2020 00:00:00 GMT",
    end_date: "Fri, 01 May 2020 00:00:00 GMT",
    Pretrial: 78458,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 46769,
    "Transfer or Hold": 64874,
    Unknown: 38205,
  },
  {
    start_date: "Fri, 01 May 2020 00:00:00 GMT",
    end_date: "Mon, 01 Jun 2020 00:00:00 GMT",
    Pretrial: 22677,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 61323,
    "Transfer or Hold": 72938,
    Unknown: 29553,
  },
  {
    start_date: "Mon, 01 Jun 2020 00:00:00 GMT",
    end_date: "Wed, 01 Jul 2020 00:00:00 GMT",
    Pretrial: 88997,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 38048,
    "Transfer or Hold": 84709,
    Unknown: 62951,
  },
  {
    start_date: "Wed, 01 Jul 2020 00:00:00 GMT",
    end_date: "Sat, 01 Aug 2020 00:00:00 GMT",
    Pretrial: 16324,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 16996,
    "Transfer or Hold": 63347,
    Unknown: 91685,
  },
  {
    start_date: "Sat, 01 Aug 2020 00:00:00 GMT",
    end_date: "Tue, 01 Sep 2020 00:00:00 GMT",
    Pretrial: 46650,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 23200,
    "Transfer or Hold": 24195,
    Unknown: 33681,
  },
  {
    start_date: "Tue, 01 Sep 2020 00:00:00 GMT",
    end_date: "Thu, 01 Oct 2020 00:00:00 GMT",
    Pretrial: 82010,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 14841,
    "Transfer or Hold": 82407,
    Unknown: 97055,
  },
  {
    start_date: "Thu, 01 Oct 2020 00:00:00 GMT",
    end_date: "Sun, 01 Nov 2020 00:00:00 GMT",
    Sentenced: 37221,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    "Transfer or Hold": 22512,
    Unknown: 49751,
    Pretrial: 51938,
  },
  {
    start_date: "Sun, 01 Nov 2020 00:00:00 GMT",
    end_date: "Tue, 01 Dec 2020 00:00:00 GMT",
    Pretrial: 13252,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 89151,
    "Transfer or Hold": 31343,
    Unknown: 17920,
  },
  {
    start_date: "Tue, 01 Dec 2020 00:00:00 GMT",
    end_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    Pretrial: 42300,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 27629,
    "Transfer or Hold": 11736,
    Unknown: 13635,
  },
  {
    start_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    end_date: "Mon, 01 Feb 2021 00:00:00 GMT",
    Pretrial: 98369,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 46574,
    "Transfer or Hold": 21353,
    Unknown: 88769,
  },
  {
    start_date: "Mon, 01 Feb 2021 00:00:00 GMT",
    end_date: "Mon, 01 Mar 2021 00:00:00 GMT",
    Pretrial: 78759,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 53386,
    "Transfer or Hold": 59075,
    Unknown: 27134,
  },
  {
    start_date: "Mon, 01 Mar 2021 00:00:00 GMT",
    end_date: "Thu, 01 Apr 2021 00:00:00 GMT",
    Pretrial: 60053,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 34197,
    "Transfer or Hold": 63531,
    Unknown: 83579,
  },
  {
    start_date: "Thu, 01 Apr 2021 00:00:00 GMT",
    end_date: "Sat, 01 May 2021 00:00:00 GMT",
    Pretrial: 44759,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 17229,
    "Transfer or Hold": 77299,
    Unknown: 58031,
  },
  {
    start_date: "Sat, 01 May 2021 00:00:00 GMT",
    end_date: "Tue, 01 Jun 2021 00:00:00 GMT",
    Pretrial: 61558,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 59243,
    "Transfer or Hold": 46498,
    Unknown: 53175,
  },
  {
    start_date: "Tue, 01 Jun 2021 00:00:00 GMT",
    end_date: "Thu, 01 Jul 2021 00:00:00 GMT",
    Pretrial: 73726,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 60098,
    "Transfer or Hold": 24792,
    Unknown: 90376,
  },
  {
    start_date: "Thu, 01 Jul 2021 00:00:00 GMT",
    end_date: "Sun, 01 Aug 2021 00:00:00 GMT",
    Pretrial: 31102,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Unknown: 78794,
    "Transfer or Hold": 10572,
    Sentenced: 30228,
  },
  {
    start_date: "Sun, 01 Aug 2021 00:00:00 GMT",
    end_date: "Wed, 01 Sep 2021 00:00:00 GMT",
    Pretrial: 99665,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 82644,
    "Transfer or Hold": 58060,
    Unknown: 72892,
  },
  {
    start_date: "Wed, 01 Sep 2021 00:00:00 GMT",
    end_date: "Fri, 01 Oct 2021 00:00:00 GMT",
    Pretrial: 46416,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 33763,
    "Transfer or Hold": 10680,
    Unknown: 94129,
  },
  {
    start_date: "Fri, 01 Oct 2021 00:00:00 GMT",
    end_date: "Mon, 01 Nov 2021 00:00:00 GMT",
    Pretrial: 80719,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 96265,
    "Transfer or Hold": 12347,
    Unknown: 18056,
  },
  {
    start_date: "Mon, 01 Nov 2021 00:00:00 GMT",
    end_date: "Wed, 01 Dec 2021 00:00:00 GMT",
    Pretrial: 83549,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 77473,
    "Transfer or Hold": 49179,
    Unknown: 78634,
  },
  {
    start_date: "Wed, 01 Dec 2021 00:00:00 GMT",
    end_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    Sentenced: 52931,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    "Transfer or Hold": 24687,
    Unknown: 92620,
    Pretrial: 40598,
  },
  {
    start_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    end_date: "Tue, 01 Feb 2022 00:00:00 GMT",
    Pretrial: 75641,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 59666,
    "Transfer or Hold": 17668,
    Unknown: 92062,
  },
  {
    start_date: "Tue, 01 Feb 2022 00:00:00 GMT",
    end_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    Pretrial: 97743,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 34823,
    "Transfer or Hold": 37207,
    Unknown: 18960,
  },
  {
    start_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    end_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    Pretrial: 80843,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 92536,
    "Transfer or Hold": 56184,
    Unknown: 51573,
  },
  {
    start_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    end_date: "Sun, 01 May 2022 00:00:00 GMT",
    Pretrial: 10958,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 48931,
    "Transfer or Hold": 46672,
    Unknown: 98907,
  },
  {
    start_date: "Sun, 01 May 2022 00:00:00 GMT",
    end_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    Pretrial: 63710,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 26703,
    "Transfer or Hold": 72473,
    Unknown: 85367,
  },
  {
    start_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    end_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    Pretrial: 32303,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 85419,
    "Transfer or Hold": 98064,
    Unknown: 95473,
  },
  {
    start_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    end_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    Unknown: 90809,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    "Transfer or Hold": 18233,
    Sentenced: 38446,
    Pretrial: 60273,
  },
  {
    start_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    end_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    Pretrial: 51711,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 25203,
    "Transfer or Hold": 12208,
    Unknown: 37137,
  },
  {
    start_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    end_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    Pretrial: 92358,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 99972,
    "Transfer or Hold": 54671,
    Unknown: 49974,
  },
  {
    start_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    end_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    Pretrial: null,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: null,
    "Transfer or Hold": null,
    Unknown: null,
  },
  {
    start_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    end_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    Unknown: 4000,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Pretrial: null,
    Sentenced: null,
    "Transfer or Hold": 1,
  },
  {
    start_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    Pretrial: null,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: null,
    "Transfer or Hold": 0,
    Unknown: null,
  },
];

const testDatapoints5Transformed: Datapoint[] = [
  {
    start_date: "Fri, 01 Sep 2017 00:00:00 GMT",
    end_date: "Sun, 01 Oct 2017 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Sun, 01 Oct 2017 00:00:00 GMT",
    end_date: "Wed, 01 Nov 2017 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Wed, 01 Nov 2017 00:00:00 GMT",
    end_date: "Fri, 01 Dec 2017 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Fri, 01 Dec 2017 00:00:00 GMT",
    end_date: "Mon, 01 Jan 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Mon, 01 Jan 2018 00:00:00 GMT",
    end_date: "Thu, 01 Feb 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Thu, 01 Feb 2018 00:00:00 GMT",
    end_date: "Thu, 01 Mar 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Thu, 01 Mar 2018 00:00:00 GMT",
    end_date: "Sun, 01 Apr 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Sun, 01 Apr 2018 00:00:00 GMT",
    end_date: "Tue, 01 May 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Tue, 01 May 2018 00:00:00 GMT",
    end_date: "Fri, 01 Jun 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Fri, 01 Jun 2018 00:00:00 GMT",
    end_date: "Sun, 01 Jul 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Sun, 01 Jul 2018 00:00:00 GMT",
    end_date: "Wed, 01 Aug 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Wed, 01 Aug 2018 00:00:00 GMT",
    end_date: "Sat, 01 Sep 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Sat, 01 Sep 2018 00:00:00 GMT",
    end_date: "Mon, 01 Oct 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Mon, 01 Oct 2018 00:00:00 GMT",
    end_date: "Thu, 01 Nov 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Thu, 01 Nov 2018 00:00:00 GMT",
    end_date: "Sat, 01 Dec 2018 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Sat, 01 Dec 2018 00:00:00 GMT",
    end_date: "Tue, 01 Jan 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Tue, 01 Jan 2019 00:00:00 GMT",
    end_date: "Fri, 01 Feb 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Fri, 01 Feb 2019 00:00:00 GMT",
    end_date: "Fri, 01 Mar 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Fri, 01 Mar 2019 00:00:00 GMT",
    end_date: "Mon, 01 Apr 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Mon, 01 Apr 2019 00:00:00 GMT",
    end_date: "Wed, 01 May 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Wed, 01 May 2019 00:00:00 GMT",
    end_date: "Sat, 01 Jun 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Sat, 01 Jun 2019 00:00:00 GMT",
    end_date: "Mon, 01 Jul 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Mon, 01 Jul 2019 00:00:00 GMT",
    end_date: "Thu, 01 Aug 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Thu, 01 Aug 2019 00:00:00 GMT",
    end_date: "Sun, 01 Sep 2019 00:00:00 GMT",
    Pretrial: 0.2971014492753623,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.2318840579710145,
    "Transfer or Hold": 0.38405797101449274,
    Unknown: 0.08695652173913043,
  },
  {
    start_date: "Sun, 01 Sep 2019 00:00:00 GMT",
    end_date: "Tue, 01 Oct 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Tue, 01 Oct 2019 00:00:00 GMT",
    end_date: "Fri, 01 Nov 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Fri, 01 Nov 2019 00:00:00 GMT",
    end_date: "Sun, 01 Dec 2019 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Sun, 01 Dec 2019 00:00:00 GMT",
    end_date: "Wed, 01 Jan 2020 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Wed, 01 Jan 2020 00:00:00 GMT",
    end_date: "Sat, 01 Feb 2020 00:00:00 GMT",
    Pretrial: 0.15911466044275688,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.3441206695347744,
    Unknown: 0.2862983993172278,
    "Transfer or Hold": 0.21046627070524096,
  },
  {
    start_date: "Sat, 01 Feb 2020 00:00:00 GMT",
    end_date: "Sun, 01 Mar 2020 00:00:00 GMT",
    Pretrial: 0.11632013121713541,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.3989869265280525,
    "Transfer or Hold": 0.4006802064740219,
    Unknown: 0.0840127357807902,
  },
  {
    start_date: "Sun, 01 Mar 2020 00:00:00 GMT",
    end_date: "Wed, 01 Apr 2020 00:00:00 GMT",
    Pretrial: 0.10216301721988669,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.39107110618213703,
    "Transfer or Hold": 0.355015087818843,
    Unknown: 0.15175078877913326,
  },
  {
    start_date: "Wed, 01 Apr 2020 00:00:00 GMT",
    end_date: "Fri, 01 May 2020 00:00:00 GMT",
    Pretrial: 0.343652816833548,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.204852259686561,
    "Transfer or Hold": 0.28415372351142765,
    Unknown: 0.1673411999684634,
  },
  {
    start_date: "Fri, 01 May 2020 00:00:00 GMT",
    end_date: "Mon, 01 Jun 2020 00:00:00 GMT",
    Pretrial: 0.12159836131502325,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.32882551973017465,
    "Transfer or Hold": 0.39110734566279337,
    Unknown: 0.15846877329200873,
  },
  {
    start_date: "Mon, 01 Jun 2020 00:00:00 GMT",
    end_date: "Wed, 01 Jul 2020 00:00:00 GMT",
    Pretrial: 0.32397298920660345,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.13850494166469485,
    "Transfer or Hold": 0.3083635172275714,
    Unknown: 0.2291585519011303,
  },
  {
    start_date: "Wed, 01 Jul 2020 00:00:00 GMT",
    end_date: "Sat, 01 Aug 2020 00:00:00 GMT",
    Pretrial: 0.0866675161399932,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.0902353041114509,
    "Transfer or Hold": 0.33632241760108733,
    Unknown: 0.48677476214746856,
  },
  {
    start_date: "Sat, 01 Aug 2020 00:00:00 GMT",
    end_date: "Tue, 01 Sep 2020 00:00:00 GMT",
    Pretrial: 0.36523495607785417,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.1816388206003476,
    "Transfer or Hold": 0.1894289338114401,
    Unknown: 0.2636972895103581,
  },
  {
    start_date: "Tue, 01 Sep 2020 00:00:00 GMT",
    end_date: "Thu, 01 Oct 2020 00:00:00 GMT",
    Pretrial: 0.296801091515781,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.05371082793788204,
    "Transfer or Hold": 0.29823786792514284,
    Unknown: 0.3512502126211941,
  },
  {
    start_date: "Thu, 01 Oct 2020 00:00:00 GMT",
    end_date: "Sun, 01 Nov 2020 00:00:00 GMT",
    Sentenced: 0.23058195289365763,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    "Transfer or Hold": 0.1394605444115424,
    Unknown: 0.30820458177943527,
    Pretrial: 0.32175292091536467,
  },
  {
    start_date: "Sun, 01 Nov 2020 00:00:00 GMT",
    end_date: "Tue, 01 Dec 2020 00:00:00 GMT",
    Pretrial: 0.08737620824706922,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.5878113749950549,
    "Transfer or Hold": 0.2066580512441813,
    Unknown: 0.11815436551369457,
  },
  {
    start_date: "Tue, 01 Dec 2020 00:00:00 GMT",
    end_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    Pretrial: 0.4438614900314795,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.28991605456453307,
    "Transfer or Hold": 0.1231479538300105,
    Unknown: 0.14307450157397691,
  },
  {
    start_date: "Fri, 01 Jan 2021 00:00:00 GMT",
    end_date: "Mon, 01 Feb 2021 00:00:00 GMT",
    Pretrial: 0.38566247819183347,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.18259659302530729,
    "Transfer or Hold": 0.08371591555093799,
    Unknown: 0.34802501323192125,
  },
  {
    start_date: "Mon, 01 Feb 2021 00:00:00 GMT",
    end_date: "Mon, 01 Mar 2021 00:00:00 GMT",
    Pretrial: 0.3606941022376508,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.24449288769612648,
    "Transfer or Hold": 0.2705469100634749,
    Unknown: 0.12426610000274783,
  },
  {
    start_date: "Mon, 01 Mar 2021 00:00:00 GMT",
    end_date: "Thu, 01 Apr 2021 00:00:00 GMT",
    Pretrial: 0.2488109048723898,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.14168462048392444,
    "Transfer or Hold": 0.26322091481604243,
    Unknown: 0.34628355982764336,
  },
  {
    start_date: "Thu, 01 Apr 2021 00:00:00 GMT",
    end_date: "Sat, 01 May 2021 00:00:00 GMT",
    Pretrial: 0.22683688259560708,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.08731590630353034,
    "Transfer or Hold": 0.39174834531061536,
    Unknown: 0.2940988657902472,
  },
  {
    start_date: "Sat, 01 May 2021 00:00:00 GMT",
    end_date: "Tue, 01 Jun 2021 00:00:00 GMT",
    Pretrial: 0.2792075256039261,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.2687074212832352,
    "Transfer or Hold": 0.21090015149178587,
    Unknown: 0.24118490162105283,
  },
  {
    start_date: "Tue, 01 Jun 2021 00:00:00 GMT",
    end_date: "Thu, 01 Jul 2021 00:00:00 GMT",
    Pretrial: 0.29609786659812365,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.24136518442359595,
    "Transfer or Hold": 0.0995694640791672,
    Unknown: 0.36296748489911324,
  },
  {
    start_date: "Thu, 01 Jul 2021 00:00:00 GMT",
    end_date: "Sun, 01 Aug 2021 00:00:00 GMT",
    Pretrial: 0.2063890216064129,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Unknown: 0.5228672293889686,
    "Transfer or Hold": 0.07015448319796146,
    Sentenced: 0.20058926580665712,
  },
  {
    start_date: "Sun, 01 Aug 2021 00:00:00 GMT",
    end_date: "Wed, 01 Sep 2021 00:00:00 GMT",
    Pretrial: 0.3181532332463984,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.26381834955516326,
    "Transfer or Hold": 0.18534065842859468,
    Unknown: 0.23268775876984368,
  },
  {
    start_date: "Wed, 01 Sep 2021 00:00:00 GMT",
    end_date: "Fri, 01 Oct 2021 00:00:00 GMT",
    Pretrial: 0.25091357277228793,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.1825145414837719,
    "Transfer or Hold": 0.05773347460375808,
    Unknown: 0.508838411140182,
  },
  {
    start_date: "Fri, 01 Oct 2021 00:00:00 GMT",
    end_date: "Mon, 01 Nov 2021 00:00:00 GMT",
    Pretrial: 0.3892191892452275,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.4641804934735543,
    "Transfer or Hold": 0.059536036492162,
    Unknown: 0.0870642807890562,
  },
  {
    start_date: "Mon, 01 Nov 2021 00:00:00 GMT",
    end_date: "Wed, 01 Dec 2021 00:00:00 GMT",
    Pretrial: 0.2892620354181453,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.2682258036595288,
    "Transfer or Hold": 0.17026676129970397,
    Unknown: 0.2722453996226219,
  },
  {
    start_date: "Wed, 01 Dec 2021 00:00:00 GMT",
    end_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    Sentenced: 0.2510529511089188,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    "Transfer or Hold": 0.11709100912557628,
    Unknown: 0.43929879147773626,
    Pretrial: 0.19255724828776868,
  },
  {
    start_date: "Sat, 01 Jan 2022 00:00:00 GMT",
    end_date: "Tue, 01 Feb 2022 00:00:00 GMT",
    Pretrial: 0.30869215669470323,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.24349792072217666,
    "Transfer or Hold": 0.0721033966298967,
    Unknown: 0.3757065259532234,
  },
  {
    start_date: "Tue, 01 Feb 2022 00:00:00 GMT",
    end_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    Pretrial: 0.5178903530384193,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.1845093332909454,
    "Transfer or Hold": 0.19714093454774734,
    Unknown: 0.1004593791228879,
  },
  {
    start_date: "Tue, 01 Mar 2022 00:00:00 GMT",
    end_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    Pretrial: 0.28755833475613224,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.32915030447897103,
    "Transfer or Hold": 0.19984633771555405,
    Unknown: 0.18344502304934265,
  },
  {
    start_date: "Fri, 01 Apr 2022 00:00:00 GMT",
    end_date: "Sun, 01 May 2022 00:00:00 GMT",
    Pretrial: 0.05333190569821091,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.23814413923335995,
    "Transfer or Hold": 0.22714972647808904,
    Unknown: 0.4813742285903401,
  },
  {
    start_date: "Sun, 01 May 2022 00:00:00 GMT",
    end_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    Pretrial: 0.25663335387689173,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.10756365481988132,
    "Transfer or Hold": 0.2919320209624858,
    Unknown: 0.3438709703407411,
  },
  {
    start_date: "Wed, 01 Jun 2022 00:00:00 GMT",
    end_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    Pretrial: 0.10378173803809689,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.27443061887367115,
    "Transfer or Hold": 0.3150559501893921,
    Unknown: 0.3067316928988399,
  },
  {
    start_date: "Fri, 01 Jul 2022 00:00:00 GMT",
    end_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    Unknown: 0.437083957046799,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    "Transfer or Hold": 0.08775949287883673,
    Sentenced: 0.1850491670717796,
    Pretrial: 0.2901073830025847,
  },
  {
    start_date: "Mon, 01 Aug 2022 00:00:00 GMT",
    end_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    Pretrial: 0.4095628826459896,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.19961349289951608,
    "Transfer or Hold": 0.09669013694073293,
    Unknown: 0.2941334875137614,
  },
  {
    start_date: "Thu, 01 Sep 2022 00:00:00 GMT",
    end_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    Pretrial: 0.3109958750736594,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: 0.3366343968347504,
    "Transfer or Hold": 0.18409293711591884,
    Unknown: 0.16827679097567136,
  },
  {
    start_date: "Sat, 01 Oct 2022 00:00:00 GMT",
    end_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    dataVizMissingData: 0.3333333333333333,
    frequency: "MONTHLY",
    Pretrial: 0,
    Sentenced: 0,
    "Transfer or Hold": 0,
    Unknown: 0,
  },
  {
    start_date: "Tue, 01 Nov 2022 00:00:00 GMT",
    end_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    Unknown: 0.9997500624843789,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Pretrial: null,
    Sentenced: null,
    "Transfer or Hold": 0.00024993751562109475,
  },
  {
    start_date: "Thu, 01 Dec 2022 00:00:00 GMT",
    end_date: "Sun, 01 Jan 2023 00:00:00 GMT",
    Pretrial: null,
    frequency: "MONTHLY",
    dataVizMissingData: 0,
    Sentenced: null,
    "Transfer or Hold": 0,
    Unknown: null,
  },
];

describe("incrementMonth", () => {
  test("incrementMonth increments month correctly", () => {
    const testDate = new Date("Tue, 01 Mar 2022 00:00:00 GMT");
    const testDate2 = new Date("Thu, 01 Dec 2022 00:00:00 GMT");
    expect(incrementMonth(testDate).toUTCString()).toBe(
      "Fri, 01 Apr 2022 00:00:00 GMT"
    );
    expect(incrementMonth(testDate2).toUTCString()).toBe(
      "Sun, 01 Jan 2023 00:00:00 GMT"
    );
  });
});

describe("incrementYear", () => {
  test("incrementYear increments year correctly", () => {
    const testDate = new Date("Tue, 01 Mar 2022 00:00:00 GMT");
    const testDate2 = new Date("Thu, 01 Dec 2022 00:00:00 GMT");
    expect(incrementYear(testDate).toUTCString()).toBe(
      "Wed, 01 Mar 2023 00:00:00 GMT"
    );
    expect(incrementYear(testDate2).toUTCString()).toBe(
      "Fri, 01 Dec 2023 00:00:00 GMT"
    );
  });
});

describe("filterByTimeRange", () => {
  test("filterByTimeRange filters through different months", () => {
    expect(filterByTimeRange(testDatapoints, 6).length).toBe(10);
    expect(filterByTimeRange(testDatapoints, 12).length).toBe(16);
  });
});

describe("transformToRelativePerchanges", () => {
  test("transformToRelativePerchanges transforms datapoints correctly", () => {
    expect(transformToRelativePerchanges(testDatapoints2)).toStrictEqual(
      testDatapoints2Percentages
    );
  });
});

describe("filterNullDatapoints", () => {
  test("filterNullDatapoints filters datapoints with all null dimensions only", () => {
    expect(filterNullDatapoints(testDatapoints3)).toStrictEqual(
      testDatapoints3WithoutNullDatapoints
    );
  });
});

describe("fillTimeGapsBetweenDatapoints", () => {
  test("fillTimeGapsBetweenDatapoints adds datapoints between data", () => {
    expect(fillTimeGapsBetweenDatapoints(testDatapoints4, 0)).toStrictEqual(
      testDatapoints4WithGapDatapoints
    );
  });
  test("fillTimeGapsBetweenDatapoints adds datapoints between data plus additional earlier month padding", () => {
    expect(fillTimeGapsBetweenDatapoints(testDatapoints4, 120)).toStrictEqual(
      testDatapoints4WithGapDatapoints2
    );
  });
});

describe("transformData", () => {
  test("test putting it all together in transformData", () => {
    expect(transformData(testDatapoints5, 60, "Percentage")).toStrictEqual(
      testDatapoints5Transformed
    );
  });
});
