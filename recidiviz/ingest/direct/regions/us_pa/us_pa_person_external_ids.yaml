manifest_language: 1.0.0
input_columns:
  - recidiviz_master_person_id
  - control_numbers
  - inmate_numbers
  - parole_numbers
unused_columns:
  - recidiviz_master_person_id  # Internal Recidiviz person ID
output:
  StatePerson:
    external_ids:
      # PA DOC id numbers
      - $foreach: control_numbers
        StatePersonExternalId:
          external_id: $iter
          id_type: \"US_PA_CONT"

      # Inmate numbers
      - $foreach: inmate_numbers
        StatePersonExternalId:
          external_id: $iter
          id_type: \"US_PA_INMATE"

      # Parole numbers
      - $foreach: parole_numbers
        StatePersonExternalId:
          external_id: $iter
          id_type: \"US_PA_PBPP"
