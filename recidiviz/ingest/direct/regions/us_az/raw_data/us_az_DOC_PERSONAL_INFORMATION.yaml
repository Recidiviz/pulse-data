# yaml-language-server: $schema=./../../../raw_data/yaml_schema/schema.json
file_tag: DOC_PERSONAL_INFORMATION
file_description: |-
  TODO(#25890): FILL IN
data_classification: source
primary_key_cols:
  - PERSONAL_INFO_ID
columns:
  - name: PERSONAL_INFO_ID
    description: |-
      Primary key
    is_pii: True
  - name: DOC_ID
    description: |-
      Episode Id. Foreign key with DOC_EPISODE table
    is_pii: True
  - name: SHOWER_DELOUSING
    description: |-
      Shower/Delousing flag. Values = Y/N
  - name: BOSS_CHAIR_SEARCH
    description: |-
      Boss chair flag. Values = Y/N
  - name: MEDICATE
    description: |-
      Medicate flag. Values = Y/N
  - name: MEDICARE
    description: |-
      Medicare flag. Values = Y/N
  - name: SOCIAL_SECURITY
    description: |-
      Social security flag. Values = Y/N
    is_pii: True
  - name: NO_INFO_PROVIDED
    description: |-
      No Info flag. Values = Y/N
  - name: SSN
    description: |-
      Social Security Number
    is_pii: True
  - name: MILITARY_TYPE_ID
    description: |-
      Lookup category = OFFENDER_MILITARY_ID_TYPE
  - name: MILITARY_ID
    description: |-
      Military number
    is_pii: True
  - name: CURRENT_MILITARY_STATUS
    description: |-
      Lookup category = MILITARY_STATUS_TYPE
  - name: ENTERED_ARMED_FORCES_DATE
    description: |-
      Enter date
  - name: COMBAT_LINE_UNIT
    description: |-
      Lookup category = YesNo
  - name: LAST_DISCHARGED_DATE
    description: |-
      Last discharge date
  - name: ARMED_FORCES_BRANCH
    description: |-
      Lookup category = MILITARY_ARMY_BRANCH
  - name: DD214_RECEIVED_DATE
    description: |-
      DD214 requested date.
    field_type: datetime
    datetime_sql_parsers:
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', {col_name})"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y', {col_name})"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
      - "SAFE.PARSE_TIMESTAMP('%Y-%m-%d %H:%M:%S', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
  - name: CHANGE_ID
    description: |-
      Change history log
    is_pii: True
  - name: OTHER_BRANCH_COMMENTS
    description: |-
      Comments
    is_pii: True
  - name: VA_VERIFIED
    description: |-
      No description available in AZ data dictionary as of 10/31/23.
  - name: BIA_NUMBER
    description: |-
      Bureau of Indian affairs
    is_pii: True
  - name: MILITARY_SOURCE_ID
    description: |-
      Who supplied information
  - name: EDUCATION_SOURCE_ID
    description: |-
      Who supplied information
  - name: EDUCATION_TYPE_ID
    description: |-
      Claimed grade level
  - name: GED_FLAG
    description: |-
      Was GED obtained
  - name: SCHOOL_NAME
    description: |-
      Name of school attended
    is_pii: True
  - name: SCHOOL_YR
    description: |-
      Year Graduated
  - name: SCHOOL_STATE
    description: |-
      No description available in AZ data dictionary as of 10/31/23.
  - name: SCHOOL_CITY
    description: |-
      City where school is located
  - name: UNDER_INFLUENCE_FLAG
    description: |-
      Under influence when commited crime
  - name: SUICIDE_HISTORY_FLAG
    description: |-
      Try to commit suicide in lifetime
  - name: SUPPORT_HABIT_FLAG
    description: |-
      Commit crime to support habit
  - name: CHILD_SUPPORT_FLAG
    description: |-
      #NAME?
  - name: SERVE_ARMED_FORCES_FLAG
    description: |-
      #NAME?
  - name: SERVICE_CONNECTED_DIS_FLAG
    description: |-
      SERVICE_CONNECTED_DISABILITY= YesNo
  - name: RECEIVED_DIS_COMPEN_FLAG
    description: |-
      RECEIVED_DISABILITY_COMPENSATION= YesNo
  - name: ELIGIBLE_DIS_COMPEN_FLAG
    description: |-
      ELIGIBLE_DISABILITY_COMPENSATION = YesNo
  - name: NOTIFIED_VETERANS_ARREST_FLAG
    description: |-
      #NAME?
  - name: DD214_REQUESTED_FLAG
    description: |-
      #NAME?
  - name: RAISED_SEAL_FLAG
    description: |-
      #NAME?
  - name: CREATE_USERID
    description: |-
      fk to person- userid that created the record
    is_pii: True
  - name: CREATE_DTM
    description: |-
      date-time record was created
    field_type: datetime
    datetime_sql_parsers:
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', {col_name})"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y', {col_name})"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
      - "SAFE.PARSE_TIMESTAMP('%Y-%m-%d %H:%M:%S', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
  - name: UPDT_USERID
    description: |-
      fk to person- userid that last updated the record
    is_pii: True
  - name: UPDT_DTM
    description: |-
      date-time record was last updated
    field_type: datetime
    datetime_sql_parsers:
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', {col_name})"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y', {col_name})"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
      - "SAFE.PARSE_TIMESTAMP('%Y-%m-%d %H:%M:%S', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
  - name: EMERGENCY_CONTACT_FLAG
    description: |-
      Has inmate provided Emergency contacts
  - name: CRIME_HABIT_FLAG
    description: |-
      No description available in AZ data dictionary as of 10/31/23.
  - name: ACTIVE_FLAG
    description: |-
      No description available in AZ data dictionary as of 10/31/23.
  - name: COMPREHEND_ENGLISH_FLAG
    description: |-
      No description available in AZ data dictionary as of 10/31/23.
  - name: DEPENDENTS
    description: |-
      Other dependent
    is_pii: True
  - name: DISABILITY_SOURCE_ID
    description: |-
      FK to lookups - who reported disability, ADOC, INMATE, etc
  - name: COMBAT_EXPERIENCE_FLAG
    description: |-
      Does inmate have combat experience? Y/N
  - name: SCHOOL_ARIZONA_CITY_ID
    description: |-
      FK to lookups for city where school is located if in state of AZ
  - name: SCHOOL_STATE_ID
    description: |-
      FK to lookups for state where school is located
  - name: VET_PROG_OPT_IN_FLAG
    description: |-
      Do you want to Opt into the Veterans Program? Y/N
  - name: VET_PROG_ELIGIBLE_ID
    description: |-
      Inmate Eligible for Veterans Program? Y/N/NA
  - name: COMMENTS
    description: |-
      Comments
    is_pii: True
  - name: DD214_REQUEST_DATE
    description: |-
      DD Form 214 Request Date
    field_type: datetime
    datetime_sql_parsers:
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', {col_name})"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y', {col_name})"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S %p', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
      - "SAFE.PARSE_TIMESTAMP('%m/%d/%Y %I:%M:%S', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
      - "SAFE.PARSE_TIMESTAMP('%Y-%m-%d %H:%M:%S', REGEXP_REPLACE({col_name}, r'.0000000', ''))"
  - name: DD214_DOCUMENT_ID
    description: |-
      fk to DOC_DOCUMENT
    is_pii: True
  - name: DPP_ID
    description: |-
      FK DPP_EPISODE
    is_pii: True
