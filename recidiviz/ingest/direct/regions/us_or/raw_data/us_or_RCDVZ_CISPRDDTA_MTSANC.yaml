# yaml-language-server: $schema=./../../../raw_data/yaml_schema/schema.json
file_tag: RCDVZ_CISPRDDTA_MTSANC
file_description: |-
  Disciplinary Sanction. Sanction resulting from AIC's misconduct.
data_classification: source
primary_key_cols:
  - RECORD_KEY
  - NEXT_NUMBER
  - RULE_ALLEGED
  - SEQUENCE_NO
  - DISCIPLINARY_SANCTION
  - SUBFILE_KEY
columns:
  - name: RECORD_KEY
    description: |-
      Unique coded identifier for each AIC.
    field_type: person_external_id
    external_id_type: US_OR_RECORD_KEY
    is_pii: True
  - name: NEXT_NUMBER
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: RULE_ALLEGED
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: SEQUENCE_NO
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: DISCIPLINARY_SANCTION
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: SUBFILE_KEY
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: START_DATE
    description: |-
      TODO(#17148): Fill in with more context from OR
    field_type: datetime
    datetime_sql_parsers:
      - "SAFE.PARSE_DATETIME('%m/%d/%Y %I:%M:%S %p', {col_name})"
      - "SAFE.PARSE_DATETIME('%m/%d/%Y', {col_name})"
  - name: STOP_DATE
    description: |-
      TODO(#17148): Fill in with more context from OR
    field_type: datetime
    datetime_sql_parsers:
      - "SAFE.PARSE_DATETIME('%m/%d/%Y %I:%M:%S %p', {col_name})"
      - "SAFE.PARSE_DATETIME('%m/%d/%Y', {col_name})"
  - name: ACTUAL_DAYS
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: SANCTION_AMOUNT
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: SUSPENSE_DATE
    description: |-
      TODO(#17148): Fill in with more context from OR
    field_type: datetime
    datetime_sql_parsers:
      - "SAFE.PARSE_DATETIME('%m/%d/%Y %I:%M:%S %p', {col_name})"
      - "SAFE.PARSE_DATETIME('%m/%d/%Y', {col_name})"
  - name: SANCTION_ACTUAL_END_DATE
    description: |-
      TODO(#17148): Fill in with more context from OR
    field_type: datetime
    datetime_sql_parsers:
      - "SAFE.PARSE_DATETIME('%m/%d/%Y %I:%M:%S %p', {col_name})"
      - "SAFE.PARSE_DATETIME('%m/%d/%Y', {col_name})"
    import_blocking_column_validation_exemptions:
      - validation_type: NONNULL_VALUES
        exemption_reason: TODO(#35364) Ensure this column is intentionally null and isn't being used anywhere
  - name: POSTED_DATE
    description: |-
      TODO(#17148): Fill in with more context from OR
    field_type: datetime
    datetime_sql_parsers:
      - "SAFE.PARSE_DATETIME('%m/%d/%Y %I:%M:%S %p', {col_name})"
      - "SAFE.PARSE_DATETIME('%m/%d/%Y', {col_name})"
  - name: MTA_APPLNID
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: SANCTION_TABLE
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: LAST_UPDATE_LOCATION
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: MISCONDUCT_SANCTION_ID
    description: |-
      TODO(#17148): Fill in with more context from OR
  - name: SANCTION_ADJUST_ID
    description: |-
      TODO(#17148): Fill in with more context from OR
table_relationships:
  - foreign_table: RCDVZ_PRDDTA_OP970P
    join_logic:
      - RCDVZ_PRDDTA_OP970P.RECORD_KEY = RCDVZ_CISPRDDTA_MTSANC.RECORD_KEY
