# yaml-language-server: $schema=./../../../ingest_mappings/yaml_schema/1.0.0/schema.json
# This file associates the columns outputted from the query in `view_state_person` to the
# corresponding ingest Object fields.
manifest_language: 1.0.0
input_columns:
  SID_NO: STRING
  start_date: DATE
  end_date: DATE
  in_rrc: STRING
unused_columns: []
output:
  StatePerson:
    external_ids:
      - StatePersonExternalId:
          external_id: SID_NO
          id_type: $literal("US_TX_SID")
    housing_status_periods:
      - StatePersonHousingStatusPeriod:
          housing_status_start_date: start_date
          housing_status_end_date: end_date
          housing_status_type:
            $enum_mapping:
              $raw_text: in_rrc
              $mappings:
                StatePersonHousingStatusType.INTERNAL_UNKNOWN:
                  - "NOT IN RRC"
                StatePersonHousingStatusType.TEMPORARY_OR_SUPPORTIVE_HOUSING:
                  - "HOUSTON"
                  - "DALLAS"
                  - "BEAUMONT"
                  - "AUSTIN"
                  - "EDINBURG"
                  - "EL_PASO_NORTH"
                  - "EL_PASO_SOUTH"
                  - "FORT_WORTH"
