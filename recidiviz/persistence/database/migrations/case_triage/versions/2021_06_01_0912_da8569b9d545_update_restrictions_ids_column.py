# pylint: skip-file
"""update_restrictions_ids_column

Revision ID: da8569b9d545
Revises: 4aa953ef2fe9
Create Date: 2021-06-01 09:12:48.150676

"""
import sqlalchemy as sa
from alembic import op
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision = "da8569b9d545"
down_revision = "4aa953ef2fe9"
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.alter_column(
        "dashboard_user_restrictions",
        "allowed_supervision_location_ids",
        type_=sa.String(length=255),
        postgresql_using="allowed_supervision_location_ids::varchar",
        existing_type=postgresql.ARRAY(sa.VARCHAR()),
        comment="String array of supervision location IDs the user can access",
        existing_comment="Array of supervision location IDs the user can access",
        existing_nullable=False,
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.alter_column(
        "dashboard_user_restrictions",
        "allowed_supervision_location_ids",
        type_=postgresql.ARRAY(sa.VARCHAR()),
        postgresql_using="allowed_supervision_location_ids::varchar[]",
        existing_type=sa.String(length=255),
        comment="Array of supervision location IDs the user can access",
        existing_comment="String array of supervision location IDs the user can access",
        existing_nullable=False,
    )
    # ### end Alembic commands ###
