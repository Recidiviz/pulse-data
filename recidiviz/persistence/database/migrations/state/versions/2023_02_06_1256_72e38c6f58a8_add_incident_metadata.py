# pylint: skip-file
"""add_incident_metadata

Revision ID: 72e38c6f58a8
Revises: 3cf8e0ed8c44
Create Date: 2023-02-06 12:56:44.547088

"""
import sqlalchemy as sa
from alembic import op

# revision identifiers, used by Alembic.
revision = "72e38c6f58a8"
down_revision = "3cf8e0ed8c44"
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.alter_column(
        "state_assessment",
        "assessment_metadata",
        existing_type=sa.TEXT(),
        comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular assessment.",
        existing_comment="This includes whichever fields and values are relevant to a fine understanding of a particular assessment. It can be provided in any format, but will be transformed into JSON prior to persistence.",
        existing_nullable=True,
    )
    op.add_column(
        "state_incarceration_incident",
        sa.Column(
            "incident_metadata",
            sa.Text(),
            nullable=True,
            comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular incident.",
        ),
    )
    op.alter_column(
        "state_incarceration_incident",
        "incident_details",
        existing_type=sa.TEXT(),
        comment="Free-text notes about / description of the incident.",
        existing_comment="Descriptive notes describing the incident.",
        existing_nullable=True,
    )
    op.alter_column(
        "state_incarceration_sentence",
        "sentence_metadata",
        existing_type=sa.TEXT(),
        comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular sentence.",
        existing_comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular sentence. It can be provided in any format, but will be transformed into JSON prior to persistence.",
        existing_nullable=True,
    )
    op.alter_column(
        "state_program_assignment",
        "referral_metadata",
        existing_type=sa.TEXT(),
        comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular referral.",
        existing_comment="This includes whichever fields and values are relevant to a fine understanding of a particular referral. It can be provided in any format, but will be transformed into JSON prior to persistence.",
        existing_nullable=True,
    )
    op.alter_column(
        "state_supervision_sentence",
        "sentence_metadata",
        existing_type=sa.TEXT(),
        comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular sentence.",
        existing_comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular sentence. It can be provided in any format, but will be transformed into JSON prior to persistence.",
        existing_nullable=True,
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.alter_column(
        "state_supervision_sentence",
        "sentence_metadata",
        existing_type=sa.TEXT(),
        comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular sentence. It can be provided in any format, but will be transformed into JSON prior to persistence.",
        existing_comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular sentence.",
        existing_nullable=True,
    )
    op.alter_column(
        "state_program_assignment",
        "referral_metadata",
        existing_type=sa.TEXT(),
        comment="This includes whichever fields and values are relevant to a fine understanding of a particular referral. It can be provided in any format, but will be transformed into JSON prior to persistence.",
        existing_comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular referral.",
        existing_nullable=True,
    )
    op.alter_column(
        "state_incarceration_sentence",
        "sentence_metadata",
        existing_type=sa.TEXT(),
        comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular sentence. It can be provided in any format, but will be transformed into JSON prior to persistence.",
        existing_comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular sentence.",
        existing_nullable=True,
    )
    op.alter_column(
        "state_incarceration_incident",
        "incident_details",
        existing_type=sa.TEXT(),
        comment="Descriptive notes describing the incident.",
        existing_comment="Free-text notes about / description of the incident.",
        existing_nullable=True,
    )
    op.drop_column("state_incarceration_incident", "incident_metadata")
    op.alter_column(
        "state_assessment",
        "assessment_metadata",
        existing_type=sa.TEXT(),
        comment="This includes whichever fields and values are relevant to a fine understanding of a particular assessment. It can be provided in any format, but will be transformed into JSON prior to persistence.",
        existing_comment="Arbitrary JSON-formatted metadata relevant to a fine understanding of a particular assessment.",
        existing_nullable=True,
    )
    # ### end Alembic commands ###
