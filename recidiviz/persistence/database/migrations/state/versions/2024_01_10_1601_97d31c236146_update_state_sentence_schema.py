# pylint: skip-file
"""update_state_sentence_schema

Revision ID: 97d31c236146
Revises: 0abbc2796cfa
Create Date: 2024-01-10 16:01:11.411899

"""
import sqlalchemy as sa
from alembic import op

# revision identifiers, used by Alembic.
revision = "97d31c236146"
down_revision = "0abbc2796cfa"
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute(
        """
        ALTER TABLE state_sentence
        ALTER COLUMN is_life TYPE bool USING is_life::bool,
        ALTER COLUMN is_capital_punishment TYPE bool USING is_capital_punishment::bool;"""
    )
    op.execute(
        """
        ALTER TABLE state_sentence_group 
        RENAME COLUMN projected_parole_release_date_min_external 
        TO projected_parole_release_date_external;"""
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute(
        """
        ALTER TABLE state_sentence
        ALTER COLUMN is_life TYPE varchar USING is_life::varchar,
        ALTER COLUMN is_capital_punishment TYPE varchar USING is_capital_punishment::varchar;"""
    )
    op.execute(
        """
        ALTER TABLE state_sentence_group 
        RENAME COLUMN projected_parole_release_date_external
        TO projected_parole_release_date_min_external;"""
    )
    # ### end Alembic commands ###
