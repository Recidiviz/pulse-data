"""create_tables

Revision ID: 5b129798a95d
Revises: 
Create Date: 2018-12-14 15:29:33.622083

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '5b129798a95d'
down_revision = None
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('ArrestHistory',
    sa.Column('arrest_history_id', sa.Integer(), nullable=False),
    sa.Column('arrest_id', sa.Integer(), nullable=False),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('booking_id', sa.Integer(), nullable=False),
    sa.Column('date', sa.Date(), nullable=True),
    sa.Column('location', sa.String(length=255), nullable=True),
    sa.Column('agency', sa.String(length=255), nullable=True),
    sa.Column('officer_name', sa.String(length=255), nullable=True),
    sa.Column('officer_id', sa.String(length=255), nullable=True),
    sa.PrimaryKeyConstraint('arrest_history_id')
    )
    op.create_index(op.f('ix_ArrestHistory_arrest_id'), 'ArrestHistory', ['arrest_id'], unique=False)
    op.create_index(op.f('ix_ArrestHistory_booking_id'), 'ArrestHistory', ['booking_id'], unique=False)
    op.create_index(op.f('ix_ArrestHistory_external_id'), 'ArrestHistory', ['external_id'], unique=False)
    op.create_table('Bond',
    sa.Column('bond_id', sa.Integer(), nullable=False),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('amount_dollars', sa.Integer(), nullable=True),
    sa.Column('bond_type', sa.Enum('BOND_DENIED', 'CASH', 'NO_BOND', 'SECURED', 'UNSECURED', name='bond_type'), nullable=True),
    sa.Column('status', sa.Enum('ACTIVE', 'POSTED', name='bond_status'), nullable=False),
    sa.PrimaryKeyConstraint('bond_id')
    )
    op.create_index(op.f('ix_Bond_external_id'), 'Bond', ['external_id'], unique=False)
    op.create_table('BondHistory',
    sa.Column('bond_history_id', sa.Integer(), nullable=False),
    sa.Column('bond_id', sa.Integer(), nullable=False),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('amount_dollars', sa.Integer(), nullable=True),
    sa.Column('bond_type', sa.Enum('BOND_DENIED', 'CASH', 'NO_BOND', 'SECURED', 'UNSECURED', name='bond_type'), nullable=True),
    sa.Column('status', sa.Enum('ACTIVE', 'POSTED', name='bond_status'), nullable=False),
    sa.PrimaryKeyConstraint('bond_history_id')
    )
    op.create_index(op.f('ix_BondHistory_bond_id'), 'BondHistory', ['bond_id'], unique=False)
    op.create_index(op.f('ix_BondHistory_external_id'), 'BondHistory', ['external_id'], unique=False)
    op.create_table('BookingHistory',
    sa.Column('booking_history_id', sa.Integer(), nullable=False),
    sa.Column('booking_id', sa.Integer(), nullable=False),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('person_id', sa.Integer(), nullable=False),
    sa.Column('admission_date', sa.Date(), nullable=True),
    sa.Column('release_date', sa.Date(), nullable=True),
    sa.Column('projected_release_date', sa.Date(), nullable=True),
    sa.Column('release_reason', sa.Enum('BOND', 'DEATH', 'ESCAPE', 'EXPIRATION_OF_SENTENCE', 'INFERRED_RELEASE', 'OWN_RECOGNIZANCE', 'PAROLE', 'PROBATION', 'TRANSFER', name='release_reason'), nullable=True),
    sa.Column('custody_status', sa.Enum('ESCAPED', 'HELD_ELSEWHERE', 'IN_CUSTODY', 'RELEASED', name='custody_status'), nullable=False),
    sa.Column('held_for_other_jurisdiction', sa.Boolean(), nullable=True),
    sa.Column('facility', sa.String(length=255), nullable=True),
    sa.Column('classification', sa.Enum('HIGH', 'LOW', 'MAXIMUM', 'MEDIUM', 'MINIMUM', 'WORK_RELEASE', name='classification'), nullable=True),
    sa.PrimaryKeyConstraint('booking_history_id')
    )
    op.create_index(op.f('ix_BookingHistory_booking_id'), 'BookingHistory', ['booking_id'], unique=False)
    op.create_index(op.f('ix_BookingHistory_external_id'), 'BookingHistory', ['external_id'], unique=False)
    op.create_index(op.f('ix_BookingHistory_person_id'), 'BookingHistory', ['person_id'], unique=False)
    op.create_table('ChargeHistory',
    sa.Column('charge_history_id', sa.Integer(), nullable=False),
    sa.Column('charge_id', sa.Integer(), nullable=False),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('booking_id', sa.Integer(), nullable=False),
    sa.Column('bond_id', sa.Integer(), nullable=True),
    sa.Column('sentence_id', sa.Integer(), nullable=True),
    sa.Column('offense_date', sa.Date(), nullable=True),
    sa.Column('statute', sa.String(length=255), nullable=True),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('attempted', sa.Boolean(), nullable=True),
    sa.Column('degree', sa.Enum('FIRST', 'SECOND', 'THIRD', name='degree'), nullable=True),
    sa.Column('class', sa.Enum('FELONY', 'MISDEMEANOR', 'PAROLE_VIOLATION', 'PROBATION_VIOLATION', name='charge_class'), nullable=True),
    sa.Column('level', sa.String(length=255), nullable=True),
    sa.Column('fee_dollars', sa.Integer(), nullable=True),
    sa.Column('charging_entity', sa.String(length=255), nullable=True),
    sa.Column('status', sa.Enum('ACQUITTED', 'COMPLETED_SENTENCE', 'CONVICTED', 'DROPPED', 'PENDING', 'PRETRIAL', 'SENTENCED', name='charge_status'), nullable=False),
    sa.Column('court_type', sa.Enum('CIRCUIT', 'DISTRICT', 'OTHER', 'SUPERIOR', name='court_type'), nullable=True),
    sa.Column('case_number', sa.String(length=255), nullable=True),
    sa.Column('next_court_date', sa.Date(), nullable=True),
    sa.Column('judge_name', sa.String(length=255), nullable=True),
    sa.PrimaryKeyConstraint('charge_history_id')
    )
    op.create_index(op.f('ix_ChargeHistory_bond_id'), 'ChargeHistory', ['bond_id'], unique=False)
    op.create_index(op.f('ix_ChargeHistory_booking_id'), 'ChargeHistory', ['booking_id'], unique=False)
    op.create_index(op.f('ix_ChargeHistory_charge_id'), 'ChargeHistory', ['charge_id'], unique=False)
    op.create_index(op.f('ix_ChargeHistory_external_id'), 'ChargeHistory', ['external_id'], unique=False)
    op.create_index(op.f('ix_ChargeHistory_sentence_id'), 'ChargeHistory', ['sentence_id'], unique=False)
    op.create_table('HoldHistory',
    sa.Column('hold_history_id', sa.Integer(), nullable=False),
    sa.Column('hold_id', sa.Integer(), nullable=False),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('booking_id', sa.Integer(), nullable=False),
    sa.Column('jurisdiction_name', sa.String(length=255), nullable=True),
    sa.Column('hold_status', sa.Enum('ACTIVE', 'INACTIVE', name='hold_status'), nullable=False),
    sa.PrimaryKeyConstraint('hold_history_id')
    )
    op.create_index(op.f('ix_HoldHistory_booking_id'), 'HoldHistory', ['booking_id'], unique=False)
    op.create_index(op.f('ix_HoldHistory_hold_id'), 'HoldHistory', ['hold_id'], unique=False)
    op.create_table('Person',
    sa.Column('person_id', sa.Integer(), nullable=False),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('surname', sa.String(length=255), nullable=True),
    sa.Column('given_names', sa.String(length=255), nullable=True),
    sa.Column('birthdate', sa.Date(), nullable=True),
    sa.Column('birthdate_inferred_from_age', sa.Boolean(), nullable=True),
    sa.Column('gender', sa.Enum('FEMALE', 'MALE', 'TRANS_FEMALE', 'TRANS_MALE', name='gender'), nullable=True),
    sa.Column('race', sa.Enum('AMERICAN_INDIAN/ALASKAN_NATIVE', 'ASIAN', 'BLACK', 'NATIVE_HAWAIIAN/PACIFIC_ISLANDER', 'OTHER', 'WHITE', name='race'), nullable=True),
    sa.Column('ethnicity', sa.Enum('HISPANIC', 'NOT_HISPANIC', name='ethnicity'), nullable=True),
    sa.Column('place_of_residence', sa.String(length=255), nullable=True),
    sa.Column('region', sa.String(length=255), nullable=False),
    sa.PrimaryKeyConstraint('person_id')
    )
    op.create_index(op.f('ix_Person_birthdate'), 'Person', ['birthdate'], unique=False)
    op.create_index(op.f('ix_Person_external_id'), 'Person', ['external_id'], unique=False)
    op.create_index(op.f('ix_Person_given_names'), 'Person', ['given_names'], unique=False)
    op.create_index(op.f('ix_Person_region'), 'Person', ['region'], unique=False)
    op.create_index(op.f('ix_Person_surname'), 'Person', ['surname'], unique=False)
    op.create_table('PersonHistory',
    sa.Column('person_history_id', sa.Integer(), nullable=False),
    sa.Column('person_id', sa.Integer(), nullable=False),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('birthdate_inferred_from_age', sa.Boolean(), nullable=True),
    sa.Column('gender', sa.Enum('FEMALE', 'MALE', 'TRANS_FEMALE', 'TRANS_MALE', name='gender'), nullable=True),
    sa.Column('race', sa.Enum('AMERICAN_INDIAN/ALASKAN_NATIVE', 'ASIAN', 'BLACK', 'NATIVE_HAWAIIAN/PACIFIC_ISLANDER', 'OTHER', 'WHITE', name='race'), nullable=True),
    sa.Column('ethnicity', sa.Enum('HISPANIC', 'NOT_HISPANIC', name='ethnicity'), nullable=True),
    sa.Column('place_of_residence', sa.String(length=255), nullable=True),
    sa.Column('region', sa.String(length=255), nullable=False),
    sa.PrimaryKeyConstraint('person_history_id')
    )
    op.create_index(op.f('ix_PersonHistory_person_id'), 'PersonHistory', ['person_id'], unique=False)
    op.create_table('Sentence',
    sa.Column('sentence_id', sa.Integer(), nullable=False),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('date_imposed', sa.Date(), nullable=True),
    sa.Column('county_of_commitment', sa.String(), nullable=True),
    sa.Column('min_length_days', sa.Integer(), nullable=True),
    sa.Column('max_length_days', sa.Integer(), nullable=True),
    sa.Column('is_life', sa.Boolean(), nullable=True),
    sa.Column('is_probation', sa.Boolean(), nullable=True),
    sa.Column('is_suspended', sa.Boolean(), nullable=True),
    sa.Column('fine_dollars', sa.Integer(), nullable=True),
    sa.Column('parole_possible', sa.Boolean(), nullable=True),
    sa.Column('post_release_supervision_length_days', sa.Integer(), nullable=True),
    sa.PrimaryKeyConstraint('sentence_id')
    )
    op.create_index(op.f('ix_Sentence_external_id'), 'Sentence', ['external_id'], unique=False)
    op.create_table('SentenceHistory',
    sa.Column('sentence_history_id', sa.Integer(), nullable=False),
    sa.Column('sentence_id', sa.Integer(), nullable=False),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('date_imposed', sa.Date(), nullable=True),
    sa.Column('min_length_days', sa.Integer(), nullable=True),
    sa.Column('max_length_days', sa.Integer(), nullable=True),
    sa.Column('is_life', sa.Boolean(), nullable=True),
    sa.Column('is_probation', sa.Boolean(), nullable=True),
    sa.Column('is_suspended', sa.Boolean(), nullable=True),
    sa.Column('fine_dollars', sa.Integer(), nullable=True),
    sa.Column('parole_possible', sa.Boolean(), nullable=True),
    sa.Column('post_release_supervision_length_days', sa.Integer(), nullable=True),
    sa.PrimaryKeyConstraint('sentence_history_id')
    )
    op.create_index(op.f('ix_SentenceHistory_external_id'), 'SentenceHistory', ['external_id'], unique=False)
    op.create_index(op.f('ix_SentenceHistory_sentence_id'), 'SentenceHistory', ['sentence_id'], unique=False)
    op.create_table('SentenceRelationshipHistory',
    sa.Column('sentence_relationship_history_id', sa.Integer(), nullable=False),
    sa.Column('sentence_relationship_id', sa.Integer(), nullable=False),
    sa.Column('valid_from', sa.DateTime(), nullable=False),
    sa.Column('valid_to', sa.DateTime(), nullable=True),
    sa.Column('sentence_a_id', sa.Integer(), nullable=False),
    sa.Column('sentence_b_id', sa.Integer(), nullable=False),
    sa.Column('type', sa.Enum('CONCURRENT', 'CONSECUTIVE', name='sentence_relationship_type'), nullable=True),
    sa.PrimaryKeyConstraint('sentence_relationship_history_id')
    )
    op.create_index(op.f('ix_SentenceRelationshipHistory_sentence_a_id'), 'SentenceRelationshipHistory', ['sentence_a_id'], unique=False)
    op.create_index(op.f('ix_SentenceRelationshipHistory_sentence_b_id'), 'SentenceRelationshipHistory', ['sentence_b_id'], unique=False)
    op.create_index(op.f('ix_SentenceRelationshipHistory_sentence_relationship_id'), 'SentenceRelationshipHistory', ['sentence_relationship_id'], unique=False)
    op.create_table('Booking',
    sa.Column('booking_id', sa.Integer(), nullable=False),
    sa.Column('person_id', sa.Integer(), nullable=False),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('admission_date', sa.Date(), nullable=True),
    sa.Column('release_date', sa.Date(), nullable=True),
    sa.Column('projected_release_date', sa.Date(), nullable=True),
    sa.Column('release_reason', sa.Enum('BOND', 'DEATH', 'ESCAPE', 'EXPIRATION_OF_SENTENCE', 'INFERRED_RELEASE', 'OWN_RECOGNIZANCE', 'PAROLE', 'PROBATION', 'TRANSFER', name='release_reason'), nullable=True),
    sa.Column('custody_status', sa.Enum('ESCAPED', 'HELD_ELSEWHERE', 'IN_CUSTODY', 'RELEASED', name='custody_status'), nullable=False),
    sa.Column('held_for_other_jurisdiction', sa.Boolean(), nullable=True),
    sa.Column('facility', sa.String(length=255), nullable=True),
    sa.Column('classification', sa.Enum('HIGH', 'LOW', 'MAXIMUM', 'MEDIUM', 'MINIMUM', 'WORK_RELEASE', name='classification'), nullable=True),
    sa.Column('last_seen_time', sa.DateTime(), nullable=False),
    sa.ForeignKeyConstraint(['person_id'], ['Person.person_id'], ),
    sa.PrimaryKeyConstraint('booking_id')
    )
    op.create_index(op.f('ix_Booking_external_id'), 'Booking', ['external_id'], unique=False)
    op.create_table('SentenceRelationship',
    sa.Column('sentence_relationship_id', sa.Integer(), nullable=False),
    sa.Column('sentence_a_id', sa.Integer(), nullable=False),
    sa.Column('sentence_b_id', sa.Integer(), nullable=False),
    sa.Column('type', sa.Enum('CONCURRENT', 'CONSECUTIVE', name='sentence_relationship_type'), nullable=True),
    sa.ForeignKeyConstraint(['sentence_a_id'], ['Sentence.sentence_id'], ),
    sa.ForeignKeyConstraint(['sentence_b_id'], ['Sentence.sentence_id'], ),
    sa.PrimaryKeyConstraint('sentence_relationship_id')
    )
    op.create_table('Arrest',
    sa.Column('arrest_id', sa.Integer(), nullable=False),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('booking_id', sa.Integer(), nullable=False),
    sa.Column('date', sa.Date(), nullable=True),
    sa.Column('location', sa.String(length=255), nullable=True),
    sa.Column('agency', sa.String(length=255), nullable=True),
    sa.Column('officer_name', sa.String(length=255), nullable=True),
    sa.Column('officer_id', sa.String(length=255), nullable=True),
    sa.ForeignKeyConstraint(['booking_id'], ['Booking.booking_id'], ),
    sa.PrimaryKeyConstraint('arrest_id')
    )
    op.create_index(op.f('ix_Arrest_external_id'), 'Arrest', ['external_id'], unique=False)
    op.create_table('Charge',
    sa.Column('charge_id', sa.Integer(), nullable=False),
    sa.Column('external_id', sa.String(length=255), nullable=True),
    sa.Column('booking_id', sa.Integer(), nullable=False),
    sa.Column('bond_id', sa.Integer(), nullable=True),
    sa.Column('sentence_id', sa.Integer(), nullable=True),
    sa.Column('offense_date', sa.Date(), nullable=True),
    sa.Column('statute', sa.String(length=255), nullable=True),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('attempted', sa.Boolean(), nullable=True),
    sa.Column('degree', sa.Enum('FIRST', 'SECOND', 'THIRD', name='degree'), nullable=True),
    sa.Column('class', sa.Enum('FELONY', 'MISDEMEANOR', 'PAROLE_VIOLATION', 'PROBATION_VIOLATION', name='charge_class'), nullable=True),
    sa.Column('level', sa.String(length=255), nullable=True),
    sa.Column('fee_dollars', sa.Integer(), nullable=True),
    sa.Column('charging_entity', sa.String(length=255), nullable=True),
    sa.Column('status', sa.Enum('ACQUITTED', 'COMPLETED_SENTENCE', 'CONVICTED', 'DROPPED', 'PENDING', 'PRETRIAL', 'SENTENCED', name='charge_status'), nullable=False),
    sa.Column('court_type', sa.Enum('CIRCUIT', 'DISTRICT', 'OTHER', 'SUPERIOR', name='court_type'), nullable=True),
    sa.Column('case_number', sa.String(length=255), nullable=True),
    sa.Column('next_court_date', sa.Date(), nullable=True),
    sa.Column('judge_name', sa.String(length=255), nullable=True),
    sa.ForeignKeyConstraint(['bond_id'], ['Bond.bond_id'], ),
    sa.ForeignKeyConstraint(['booking_id'], ['Booking.booking_id'], ),
    sa.ForeignKeyConstraint(['sentence_id'], ['Sentence.sentence_id'], ),
    sa.PrimaryKeyConstraint('charge_id')
    )
    op.create_index(op.f('ix_Charge_external_id'), 'Charge', ['external_id'], unique=False)
    op.create_table('Hold',
    sa.Column('hold_id', sa.Integer(), nullable=False),
    sa.Column('booking_id', sa.Integer(), nullable=False),
    sa.Column('jurisdiction_name', sa.String(length=255), nullable=True),
    sa.Column('hold_status', sa.Enum('ACTIVE', 'INACTIVE', name='hold_status'), nullable=False),
    sa.ForeignKeyConstraint(['booking_id'], ['Booking.booking_id'], ),
    sa.PrimaryKeyConstraint('hold_id')
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('Hold')
    op.drop_index(op.f('ix_Charge_external_id'), table_name='Charge')
    op.drop_table('Charge')
    op.drop_index(op.f('ix_Arrest_external_id'), table_name='Arrest')
    op.drop_table('Arrest')
    op.drop_table('SentenceRelationship')
    op.drop_index(op.f('ix_Booking_external_id'), table_name='Booking')
    op.drop_table('Booking')
    op.drop_index(op.f('ix_SentenceRelationshipHistory_sentence_relationship_id'), table_name='SentenceRelationshipHistory')
    op.drop_index(op.f('ix_SentenceRelationshipHistory_sentence_b_id'), table_name='SentenceRelationshipHistory')
    op.drop_index(op.f('ix_SentenceRelationshipHistory_sentence_a_id'), table_name='SentenceRelationshipHistory')
    op.drop_table('SentenceRelationshipHistory')
    op.drop_index(op.f('ix_SentenceHistory_sentence_id'), table_name='SentenceHistory')
    op.drop_index(op.f('ix_SentenceHistory_external_id'), table_name='SentenceHistory')
    op.drop_table('SentenceHistory')
    op.drop_index(op.f('ix_Sentence_external_id'), table_name='Sentence')
    op.drop_table('Sentence')
    op.drop_index(op.f('ix_PersonHistory_person_id'), table_name='PersonHistory')
    op.drop_table('PersonHistory')
    op.drop_index(op.f('ix_Person_surname'), table_name='Person')
    op.drop_index(op.f('ix_Person_region'), table_name='Person')
    op.drop_index(op.f('ix_Person_given_names'), table_name='Person')
    op.drop_index(op.f('ix_Person_external_id'), table_name='Person')
    op.drop_index(op.f('ix_Person_birthdate'), table_name='Person')
    op.drop_table('Person')
    op.drop_index(op.f('ix_HoldHistory_hold_id'), table_name='HoldHistory')
    op.drop_index(op.f('ix_HoldHistory_booking_id'), table_name='HoldHistory')
    op.drop_table('HoldHistory')
    op.drop_index(op.f('ix_ChargeHistory_sentence_id'), table_name='ChargeHistory')
    op.drop_index(op.f('ix_ChargeHistory_external_id'), table_name='ChargeHistory')
    op.drop_index(op.f('ix_ChargeHistory_charge_id'), table_name='ChargeHistory')
    op.drop_index(op.f('ix_ChargeHistory_booking_id'), table_name='ChargeHistory')
    op.drop_index(op.f('ix_ChargeHistory_bond_id'), table_name='ChargeHistory')
    op.drop_table('ChargeHistory')
    op.drop_index(op.f('ix_BookingHistory_person_id'), table_name='BookingHistory')
    op.drop_index(op.f('ix_BookingHistory_external_id'), table_name='BookingHistory')
    op.drop_index(op.f('ix_BookingHistory_booking_id'), table_name='BookingHistory')
    op.drop_table('BookingHistory')
    op.drop_index(op.f('ix_BondHistory_external_id'), table_name='BondHistory')
    op.drop_index(op.f('ix_BondHistory_bond_id'), table_name='BondHistory')
    op.drop_table('BondHistory')
    op.drop_index(op.f('ix_Bond_external_id'), table_name='Bond')
    op.drop_table('Bond')
    op.drop_index(op.f('ix_ArrestHistory_external_id'), table_name='ArrestHistory')
    op.drop_index(op.f('ix_ArrestHistory_booking_id'), table_name='ArrestHistory')
    op.drop_index(op.f('ix_ArrestHistory_arrest_id'), table_name='ArrestHistory')
    op.drop_table('ArrestHistory')
    # ### end Alembic commands ###
