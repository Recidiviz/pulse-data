# pylint: skip-file
"""request_json

Revision ID: 86cdd33c2c58
Revises: d3b1652e0f93
Create Date: 2024-08-21 13:50:36.747928

"""
import sqlalchemy as sa
from alembic import op
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision = "86cdd33c2c58"
down_revision = "d3b1652e0f93"
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column(
        "case_note_search_record", sa.Column("query", sa.String(), nullable=True)
    )
    op.add_column(
        "case_note_search_record",
        sa.Column("with_snippet", sa.Boolean(), nullable=True),
    )
    op.add_column(
        "case_note_search_record",
        sa.Column("results", postgresql.JSON(astext_type=sa.Text()), nullable=True),
    )
    op.drop_column("case_note_search_record", "search_term")
    op.drop_column("case_note_search_record", "case_note_ids")
    op.drop_column("case_note_search_record", "snippet")
    op.drop_column("case_note_search_record", "summary_result_count")
    op.drop_column("case_note_search_record", "extractive_answer")
    op.drop_column("case_note_search_record", "summary")
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column(
        "case_note_search_record",
        sa.Column("summary", sa.VARCHAR(), autoincrement=False, nullable=True),
    )
    op.add_column(
        "case_note_search_record",
        sa.Column(
            "extractive_answer", sa.VARCHAR(), autoincrement=False, nullable=True
        ),
    )
    op.add_column(
        "case_note_search_record",
        sa.Column(
            "summary_result_count", sa.INTEGER(), autoincrement=False, nullable=True
        ),
    )
    op.add_column(
        "case_note_search_record",
        sa.Column("snippet", sa.VARCHAR(), autoincrement=False, nullable=True),
    )
    op.add_column(
        "case_note_search_record",
        sa.Column(
            "case_note_ids",
            postgresql.ARRAY(sa.VARCHAR()),
            autoincrement=False,
            nullable=True,
        ),
    )
    op.add_column(
        "case_note_search_record",
        sa.Column("search_term", sa.VARCHAR(), autoincrement=False, nullable=True),
    )
    op.drop_column("case_note_search_record", "results")
    op.drop_column("case_note_search_record", "with_snippet")
    op.drop_column("case_note_search_record", "query")
    # ### end Alembic commands ###
